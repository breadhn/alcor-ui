<template lang="pug">
.detailWithCardPanel.mb-5.d-flex.flex-wrap.gap-32.justify-content-center.justify-content-md-start
  .nft-info.border-radius5.normal-card-shadow
    .d-flex.gap-64.flex-wrap
      .d-flex.flex-column.gap-16
        .d-flex.flex-column
          .fs-14.disable {{ $t('Sale ID') }}
          .fs-18 {{ "#" + saleID }}
        .d-flex.flex-column
          .fs-14.disable {{ $t('Seller') }}
          .d-flex.gap-4
            profile-image(
              :src="`https://profile.api.atomichub.io/v1/profiles/chain/wax-mainnet/account/${data.seller}/avatar`"
              :size="20")
            span {{ data.seller }}
        .d-flex.flex-column
          .fs-14.disable {{ $t('Price') }}
          .d-flex.gap-4
            .color-wax {{ price + " WAX" }}
            .color-action (${{ $systemToUSD(price) }})
        .d-flex.flex-column
          .fs-14.disable {{ $t('Date') }}
          span {{ +data.assets[0].transferred_at_time | moment("MM/DD/YYYY HH:mm a") }}

      .d-flex.flex-column.gap-16
        .d-flex.flex-column
          .fs-14.disable {{ $t('Mint Number') }}
          .fs-18.d-flex.gap-4
            .color-action {{ data.assets[0].template_mint }}
            span of {{ data.assets[0].template.issued_supply }} (max: {{ data.assets[0].template.max_supply }}) -
            .color-danger {{ data.assets[0].template.issued_supply - data.assets[0].template_mint }}
            img(src='~/assets/images/fire.svg')
        .d-flex.flex-column
          .fs-14.disable {{ $t('Temlate ID') }}
          .color-action {{ "#" + data.assets[0].template.template_id }}
        .d-flex.flex-column
          .fs-14.disable {{ $t('Propertise') }}
          .d-flex.gap-4(v-if='data.assets[0].template.is_transferable')
            img(src='~/assets/images/double_arrow.svg')
            .fs-18 Transferable
          .d-flex.gap-4(v-if='data.assets[0].template.is_burnable')
            img(src='~/assets/images/fire.svg')
            .fs-18 {{ $t('Burnable') }}

  preview-card(:data='data.assets[0]' :ownerName="data.assets[0].owner")
    alcor-button.w-100(outline slot="footer" @click="$router.push('/nfts/' + data.assets[0].asset_id)") Details
</template>

<script>
import { mapActions } from 'vuex'
import ProfileImage from '~/components/ProfileImage.vue'
import PreviewCard from '~/components/cards/PreviewCard'
import AlcorButton from '~/components/AlcorButton'

export default {
  components: { PreviewCard, ProfileImage, AlcorButton },
  props: ['data', 'mode'],
  computed: {
    saleID() {
      if (this.data.auction_id) {
        return this.data.auction_id
      } else return this.data.sale_id
    },
    price() {
      if (this.data.price) {
        return (
          this.data.price.amount / Math.pow(10, this.data.price.token_precision)
        )
      } else return 0
    }
  }
}
</script>

<style lang="scss" scoped>
.nft-info {
  max-width: 595px;
  width: 100%;
  background-color: var(--background-color-third);
  padding: 14px;
}
.border-radius5 {
  border-radius: 5px;
}
.other-info {
  width: 40%;
  h4 {
    font-size: 20px;
  }
}

.wax-price {
  color: #f89022;
}
.nft {
  width: auto;
  height: auto;
}
.wax-exchange {
  font-weight: 500;
  font-size: 16px;
  color: #34fb24;
}
.description-name,
.wax-exchange {
  margin-bottom: 15px !important;
}
.description-fee,
.description-title {
  font-size: 14px;
  color: var(--cancel);
  margin-bottom: 5px;
  span {
    margin-left: 4px;
  }
}
.color-red {
  color: #ff4949;
  margin-right: 5px;
}
</style>
